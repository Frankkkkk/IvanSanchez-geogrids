'use strict';

var profanities = [
	'anus',
	'arse',
	'arsehole',
	'ass',
	'ass-hat',
	'ass-jabber',
	'ass-pirate',
	'assbag',
	'assbandit',
	'assbanger',
	'assbite',
	'assclown',
	'asscock',
	'asscracker',
	'asses',
	'assface',
	'assfuck',
	'assfucker',
	'assgoblin',
	'asshat',
	'asshead',
	'asshole',
	'asshopper',
	'assjacker',
	'asslick',
	'asslicker',
	'assmonkey',
	'assmunch',
	'assmuncher',
	'assnigger',
	'asspirate',
	'assshit',
	'assshole',
	'asssucker',
	'asswad',
	'asswart',
	'asswipe',
	'bastard',
	'beaner',
	'bitch',
	'bitchass',
	'bitchtits',
	'blowjob',
	'boner',
	'brotherfucker',
	'bullshit',
	'bumblefuck',
	'buttplug',
	'buttfucker',
	'cameltoe',
	'cancer',
	'carpetmuncher',
	'chesticle',
	'chink',
	'chode',
	'clit',
	'clitface',
	'clitfuck',
	'clitoris',
	'clusterfuck',
	'cock',
	'cockass',
	'cockbite',
	'cockburger',
	'cockface',
	'cockfucker',
	'cockhead',
	'cockjockey',
	'cockknoker',
	'cockmaster',
	'cockmongler',
	'cockmongruel',
	'cockmonkey',
	'cockmuncher',
	'cocknose',
	'cocknugget',
	'cockshit',
	'cocksmith',
	'cocksmoker',
	'cocksniffer',
	'cocksucker',
	'cockwaffle',
	'coochie',
	'coon',
	'cooter',
	'cracker',
	'cum',
	'cumbubble',
	'cumdumpster',
	'cumguzzler',
	'cumjockey',
	'cumslut',
	'cumtart',
	'cunnie',
	'cunnilingus',
	'cunt',
	'cuntass',
	'cuntface',
	'cunthole',
	'cuntlicker',
	'cuntrag',
	'cuntslut',
	'damn',
	'deggo',
	'dick',
	'dick-sneeze',
	'dickbag',
	'dickbeaters',
	'dickface',
	'dickfucker',
	'dickhead',
	'dickhole',
	'dickjuice',
	'dickmilk',
	'dickmonger',
	'dickslap',
	'dicksucker',
	'dicksucking',
	'dicktickler',
	'dickwad',
	'dickweasel',
	'dickweed',
	'dickwod',
	'dildo',
	'dipshit',
	'doochbag',
	'dookie',
	'douche',
	'douche-fag',
	'douchebag',
	'douchewaffle',
	'dumbass',
	'dumbfuck',
	'dumbshit',
	'dyke',
	'eightball',
	'fag',
	'fagbag',
	'fagfucker',
	'faggot',
	'faggotcock',
	'fagtard',
	'fatass',
	'fellatio',
	'feltch',
	'flamer',
	'fuck',
	'fuckass',
	'fuckbag',
	'fuckboy',
	'fuckbrain',
	'fuckbutt',
	'fuckbutter',
	'fucker',
	'fuckersucker',
	'fuckface',
	'fuckhead',
	'fuckhole',
	'fucking',
	'fucknut',
	'fucknutt',
	'fuckoff',
	'fucks',
	'fuckstick',
	'fucktard',
	'fucktart',
	'fucktastic',
	'fucktoy',
	'fuckup',
	'fuckwad',
	'fuckwitt',
	'fudgepacker',
	'gangbang',
	'gay',
	'gayass',
	'gaybob',
	'gaydo',
	'gayfuck',
	'gayfuckist',
	'gaylord',
	'gaytard',
	'gaywad',
	'god',
	'goddamn',
	'gooch',
	'gook',
	'gringo',
	'guido',
	'handjob',
	'hardon',
	'heeb',
	'hell',
	'ho',
	'homo',
	'homodumbshit',
	'honkey',
	'humping',
	'jackass',
	'jagoff',
	'jap',
	'jerk',
	'jerkoff',
	'jigaboo',
	'jizz',
	'junglebunny',
	'kike',
	'kraut',
	'kyke',
	'lameass',
	'lardass',
	'lesbian',
	'lesbo',
	'lezzie',
	'mcfagget',
	'mick',
	'motherfucker',
	'muff',
	'muffdiver',
	'munging',
	'negro',
	'nigaboo',
	'nigga',
	'nigger',
	'niggers',
	'niglet',
	'nutsack',
	'orgy',
	'paki',
	'panooch',
	'pecker',
	'peckerhead',
	'penis',
	'penisbanger',
	'penisfucker',
	'penispuffer',
	'piss',
	'pissoff',
	'pissflaps',
	'polesmoker',
	'pollock',
	'poon',
	'poonani',
	'poonany',
	'poontang',
	'porchmonkey',
	'prick',
	'punanny',
	'punta',
	'pussy',
	'pussylicker',
	'puto',
	'queef',
	'queer',
	'queerbait',
	'queerhole',
	'renob',
	'rimjob',
	'ruski',
	'sandnigger',
	'schlong',
	'scrote',
	'semen',
	'shit',
	'shitass',
	'shitbag',
	'shitbagger',
	'shitbrains',
	'shitbreath',
	'shitcanned',
	'shitcunt',
	'shitdick',
	'shitface',
	'shitfaced',
	'shithead',
	'shithole',
	'shithouse',
	'shitspitter',
	'shitstain',
	'shitter',
	'shittiest',
	'shitting',
	'shitty',
	'shiz',
	'shiznit',
	'skank',
	'skeet',
	'skullfuck',
	'slut',
	'slutbag',
	'smeg',
	'snatch',
	'spick',
	'splooge',
	'spook',
	'suckass',
	'tard',
	'testicle',
	'thundercunt',
	'tit',
	'titfuck',
	'twat',
	'twatlips',
	'twats',
	'twatwaffle',
	'unclefucker',
	'vagina',
	'wank',
	'wanker',
	'wankjob',
	'wetback',
	'whore',
	'whorebag',
	'whoreface',
	'wop'];

var drugs = [
	'acid',
	'african',
	'amphets',
	'angel',
	'angeldust',
	'badrock',
	'bagman',
	'bagging',
	'baked',
	'balling',
	'bamba',
	'banano',
	'beamer',
	'bedbugs',
	'bennies',
	'bickie',
	'bingers',
	'birdhead',
	'blackdust',
	'bluedevil',
	'high',
	'stoned',
];

let scottish = [
	'bawbag',
	'fud',
	'glakit',
	'scabby',
	'whalluper',
	'cludgie',
	'doaber',
	'hamshank',
	'lavvie',
	'skelpit',
];

let british = [
	'bellend',
	'bloody',
	'blimey',
	'clunge',
	'crap',
	'fanny',
	'sideways',
	'nonce',
	'penguin',
	'flaps',
	'poof',
	'slag',
	'toff',
	'randy',
	'raunchy',
	'spunk',
	'wankstain',

	// From http://septicscompanion.com/showcat.php?cat=insults
	'bampot',
	'barmy',
	'berk',
	'bint',
	'blighter',
	'blooming',
	'bollocks',
	'charva',
	'chav',
	'chauvinist',
	'cheeky',
	'cobblers',
	'cockup',
	'codger',
	'dago',
	'divvy',
	'dodgy',
	'dozy',
	'duffer',
	'eejit',
	'git',
	'gormless',
	'grotty',
	'manky',
	'minger',
	'munter',
	'naff',
	'nancy',
	'numpty',
	'nutter',
	'pikey',
	'pillock',
	'plonker',
	'poxy',
	'prat',
	'scrubber',
	'skanky',
	'trollop',
	'tyke',
	'wally',
	'wazzack',

	// From http://mentalfloss.com/article/61819/42-old-english-insults
	'abydocomist',
	'bedswerver',
	'bespawler',
	'bobolyne',
	'cumberworld',
	'dalcop',
	'dewbeater',
	'dorbel',
	'dratepoke',
	'driggledraggle',
	'fopdoodle',
	'fustylugs',
	'fustilarian',
	'scullion',
	'rampallion',
	'gnashgab',
	'gobermouch',
	'klazomaniac',
	'leasing',
	'loiter',
	'lubberwort',
	'wort',
	'wart',
	'muckspout',
	'mumblecrust',
	'quisby',
	'raggabrash',
	'rakefire',
	'roiderbanks',
	'scobberlotcher',
	'skelpie',
	'smellfeast',
	'sorner',
	'stampcrab',
	'stymphalist',
	'tallowcatch',
	'triptaker',
	'wandought',
	'whifflewhaffle',
	'yald',
	'yaldson',
	'zoilist',

	// https://www.buzzfeed.com/rorylewarne/british-swearwords-defined?#
	'cad',
	'cack',
	'gorblimey',
	'knob',
	'rotter',
	'swine',
	'tosser',
	'tuss',

	// From http://www.theregister.co.uk/2000/12/12/rudest_words_in_britain/
	'spastic',
	'sodding',
];

let animals = [
	'worm',
	'donkey',
	'llama',
	'snake',
	'cockroach',
	'bull',
	'cow',
	'harpy',	// OK, not an animal but a mythological creature
	'troll',	// OK, not an animal but a mythological creature
	'goblin',	// OK, not an animal but a mythological creature
	'gnome',	// OK, not an animal but a mythological creature
	'elf',	// OK, not an animal but a mythological creature
	'monster',	// A bit of a stretch for the category, but appropiate
	'dog',
	'stud',
	'pig',
	'monkey',
	'ape',
	'chicken',
	'rat',
	'hyena',
];

// Just mildly rude.
let mild = [
	'good',
	'bad',
	'evil',
	'lame',
	'boring',
	'fat',
	'lard',
	'dirt',
	'poo',
	'fart',
	'suck',
	'smelly',
	'stinky',
	'ugly',
	'wild',
	'lazy',
	'christ',
	'buffoon',
	'clown',
	'joker',
	'dork',
	'nerd',
	'freak',
	'idiot',
	'imbecile',
	'dumb',
	'nailed',	// This might be a stretch
	'slow',
	'stupid',
	'retard',
	'cramp',
	'moron',
	'fool',
	'smut',
	'bottom',
	'blows',
	'member',
	'hang',
	'choke',
	'banging',
	'lick',
	'crack',
	'lying',
	'slap',
	'snot',
	'mess',
	'sob',
	'brag',
	'trash',
	'litter',
	'dump',
	'fist',
	'meat',
	'hose',
	'groin',
	'hole',
	'rubber',
	'snob',
	'stain',
	'brat',
	'bush',
	'alcoholic',
	'booze',
	'bozo',
	'creep',
	'eunuch',
	'stalker',
	'loser',
	'porn',
	'sack',
	'slime',
	'horny',
	'gland',
	'condom',
	'boogey',
];

let adverbs = [
	'very',
	'much',
	'like',
	'so',
];

let australian = [
	'bugger',
	'crikey',
	'dingaling',
	'donga',
	'flaming',
	'muppet',
	'stuffed',
	'gronk',
	'slash',
	'root',
	'seppo',
	'duff',
	'bogan',
	'redneck',
	'dill',
	'onions',
	'fugly',
	'jonas',
	'tassie',
	'mut',
	'poofter',
	'slagger',
];

let words = profanities.concat(drugs, scottish, british, animals, mild, adverbs, australian);

// console.log('raw count:', words.length);


// Having a power of two means that zooming in will reuse some digits
// Sorting by length will get rid of the longer, more obscure terms
words = words.sort( (a,b) => a.length - b.length ).slice(0, 512);

var count = words.length;

// console.log(words);
//
// // Debug code to catch duplicates
// var sorted_arr = words.slice().sort(); // You can define the comparing function here.
// // JS by default uses a crappy string compare.
// // (we use slice to clone the array so the original array won't be modified)
// var dupes = [];
// for (var i = 0; i < words.length - 1; i++) {
// 	if (sorted_arr[i + 1] == sorted_arr[i]) {
// 		dupes.push(sorted_arr[i]);
// 	}
// }
//
// console.log('duplicates:', dupes);
// console.log('count:', count);


var precisionPerWord = Math.log2(count);

export function hashToString(hash, precision) {
	var digits = [];
	var s;

	while(precision > 0) {
		s = hash % count;
		digits.push(words[s]);
		hash = Math.trunc(hash/count);
		precision -= precisionPerWord;
	}

	return digits.join(' ');
}

export var precisions = [];
for (var i = precisionPerWord; i < 60; i+= precisionPerWord) {
	precisions.push(i);
}

let regexp = new RegExp('([a-zA-Z]+)', 'g');

export function stringToHash(str) {
// 	let matches = [];
	let match;
	let hash = 0;
	let precision = 0;
	let multiplier = 1;
	while ((match = regexp.exec(str)) !== null) {
		let position = words.indexOf(match[1]);
		if (position === -1) {
			return undefined;
		}
		hash += position * multiplier;
		multiplier *= count;
		precision += precisionPerWord;
// 		matches.push(match[1]);
	}
// 	console.log(matches, hash);
	return {hash: hash, precision: precision};
}


